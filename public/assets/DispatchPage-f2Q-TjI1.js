import{r as C,j as e,b as S,S as k}from"./index-CShLHsUt.js";import{z as b,R as E,b as U,a as z,T as B,P as M,M as $}from"./Pagination-2Q04ZmxJ.js";/* empty css             */import{D as L,a as V,u as G,R as Z,E as J}from"./useDispatchTable-Bi24Rhix.js";import{o as Q,R as H}from"./EyeOutlined-B28M-sP9.js";import"./purify.es-Ci5xwkH_.js";const W=b.object({carrier:b.string().min(1,"Carrier is required").max(200,"Carrier cannot exceed 200 characters").regex(/^[a-zA-Z0-9\s.,'"-]+$/,"Only letters, numbers, spaces, apostrophes, periods, commas, and hyphens allowed"),contact:b.string().max(30,"Contact cannot exceed 30 characters").regex(/^[0-9-+()\s]*$/,"Invalid phone format").optional(),equipment:b.enum(["DRY VAN 53'","FLATBED 53'","REEFER 53'"],{errorMap:()=>({message:"Invalid equipment type"})}),driver_mobile:b.string().max(30,"Driver cell cannot exceed 30 characters").regex(/^[0-9-+()\s]*$/,"Invalid phone format").optional(),truck_unit_no:b.string().max(20,"Truck unit no cannot exceed 20 characters").regex(/^[a-zA-Z0-9-_\/]*$/,"Only letters, numbers, dashes, underscores, and slashes allowed").optional(),trailer_unit_no:b.string().max(20,"Trailer unit no cannot exceed 20 characters").regex(/^[a-zA-Z0-9-_\/]*$/,"Only letters, numbers, dashes, underscores, and slashes allowed").optional(),paps_pars_no:b.string().max(20,"PAPS#/PARS# cannot exceed 20 characters").regex(/^[a-zA-Z0-9-_\/]*$/,"Only letters, numbers, dashes, underscores, and slashes allowed").optional(),tracking_code:b.string().max(200,"Tracking code cannot exceed 200 characters").regex(/^[a-zA-Z0-9\s.,'"-]+$/,"Only letters, numbers, spaces, apostrophes, periods, commas, and hyphens allowed").optional(),border:b.string().max(100,"Border cannot exceed 100 characters").regex(/^[a-zA-Z0-9\s.,'"-]+$/,"Only letters, numbers, spaces, apostrophes, periods, commas, and hyphens allowed").optional(),currency:b.enum(["CAD","USD"],{errorMap:()=>({message:"Invalid currency"})})}),Y=[{key:"contact",label:"Contact",placeholder:"Enter Contact",type:"text"},{key:"equipment",label:"Equipment",placeholder:"Enter Equipment",type:"dropdown"},{key:"driver_mobile",label:"Driver Cell",placeholder:"Enter Driver Cell",type:"text"},{key:"truck_unit_no",label:"Truck Unit No",placeholder:"Enter Truck Unit No",type:"text"},{key:"trailer_unit_no",label:"Trailer Unit No",placeholder:"Enter Trailer Unit No",type:"text"},{key:"paps_pars_no",label:"PAPS#/PARS#",placeholder:"Enter PAPS#/PARS#",type:"text"},{key:"tracking_code",label:"Tracking Code",placeholder:"Enter Tracking Code",type:"text"},{key:"border",label:"Border",placeholder:"Enter Border",type:"text"},{key:"currency",label:"Currency",placeholder:"Enter Currency",type:"dropdown"}],K=({formDispatch:r,setFormDispatch:x})=>{const[j,c]=C.useState({}),[h,d]=C.useState([]),u="http://127.0.0.1:8000/api";C.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("token"),y=await S.get(`${u}/carrier`,{headers:{Authorization:`Bearer ${g}`}});if(!y||!y.data){console.error("API response is undefined or invalid:",y);return}console.log("Fetched carriers:",y.data);const _=y.data.map(o=>({value:o.dba,label:o.dba}));d(_)}catch(g){console.error("Error fetching carriers:",g)}})()},[]);const f=(a,g)=>{let y=g,_="";const o={...r,[a]:y},t=W.safeParse(o);if(!t.success){const i=t.error.errors.find(p=>p.path[0]===a);_=i?i.message:""}c(i=>({...i,[a]:_})),x(o)};return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Dispatch Details"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-grid",style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:[e.jsxs("div",{className:"form-group",style:{flex:"1 1 45%"},children:[e.jsxs("label",{htmlFor:"carrier",children:["Carrier ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("select",{id:"carrier",value:r.carrier||"",onChange:a=>f("carrier",a.target.value),onBlur:()=>f("carrier",r.carrier||""),children:[e.jsx("option",{value:"",disabled:!0,children:"Select a carrier"}),h.length>0?h.map((a,g)=>e.jsx("option",{value:a.value,children:a.label},`${a.value}-${g}`)):e.jsx("option",{disabled:!0,children:"No carriers found"})]}),j.carrier&&e.jsx("span",{className:"error",style:{color:"red"},children:j.carrier})]}),Y.map(({key:a,label:g,placeholder:y,type:_})=>e.jsxs("div",{className:"form-group",style:{flex:"1 1 45%"},children:[e.jsx("label",{htmlFor:a,children:g}),_==="dropdown"?e.jsxs("select",{id:a,value:String(r[a]||""),onChange:o=>f(a,o.target.value),children:[e.jsxs("option",{value:"",disabled:!0,children:["Select ",g.toLowerCase()]}),a==="equipment"&&["DRY VAN 53'","FLATBED 53'","REEFER 53'"].map(o=>e.jsx("option",{value:o,children:o},o)),a==="currency"&&["CAD","USD"].map(o=>e.jsx("option",{value:o,children:o},o))]}):e.jsx("input",{type:"text",id:a,placeholder:y,value:String(r[a]||""),onChange:o=>f(a,o.target.value)}),j[a]&&e.jsx("span",{className:"error",style:{color:"red"},children:j[a]})]},a))]})]})},X=b.object({rate:b.string().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g., 100.50)").optional(),gst:b.string().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid GST amount (e.g., 5.00)").optional(),pst:b.string().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid PST amount (e.g., 7.50)").optional(),hst:b.string().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid HST amount (e.g., 13.00)").optional(),qst:b.string().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid QST amount (e.g., 9.97)").optional(),final_price:b.string().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid price (e.g., 150.75)").optional()}),ee=[{key:"rate",label:"Rate"},{key:"gst",label:"GST"},{key:"pst",label:"PST"},{key:"hst",label:"HST"},{key:"qst",label:"QST"}],re=({formDispatch:r,setFormDispatch:x})=>{const[j,c]=C.useState({}),h=(d,u)=>{const f=u.trim();let a="";const g={...r,[d]:f},y=X.safeParse(g);if(!y.success){const _=y.error.errors.find(o=>o.path[0]===d);a=_?_.message:""}c(_=>({..._,[d]:a})),x(g)};return C.useEffect(()=>{const d=Number(r.rate)||0,u=Number(r.gst)||0,f=Number(r.pst)||0,a=Number(r.hst)||0,g=Number(r.qst)||0,y=(d+u+f+a+g).toFixed(2);x(_=>({..._,final_price:y}))},[r.rate,r.gst,r.pst,r.hst,r.qst,x]),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Tax"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-grid",style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[ee.map(({label:d,key:u})=>e.jsxs("div",{className:"form-group",style:{flex:"1 1 150px"},children:[e.jsx("label",{htmlFor:u,children:d}),e.jsx("input",{type:"text",id:u,placeholder:`Enter ${d}`,value:r[u]||"",onChange:f=>h(u,f.target.value)}),j[u]&&e.jsx("span",{className:"error",style:{color:"red"},children:j[u]})]},u)),e.jsxs("div",{className:"form-group",style:{flex:"1 1 150px"},children:[e.jsx("label",{htmlFor:"final_price",children:"Final Price"}),e.jsx("input",{type:"text",id:"final_price",value:r.final_price||"0.00",readOnly:!0,style:{backgroundColor:"#f0f0f0",cursor:"not-allowed"}})]})]})]})},se="http://127.0.0.1:8000/api",te=(r,x,j)=>{const[c,h]=C.useState({id:0,carrier:"",contact:"",equipment:"",driver_mobile:"",truck_unit_no:"",trailer_unit_no:"",paps_pars_no:"",tracking_code:"",border:"",currency:"",rate:"",charges:[],discounts:[],gst:"",pst:"",hst:"",qst:"",final_price:"",status:"",created_at:"",updated_at:""});C.useEffect(()=>{if(r){let t=r.charges,i=r.discounts;if(typeof t=="string")try{t=JSON.parse(t)}catch(v){console.error("Failed to parse charges:",v),t=[]}if(typeof i=="string")try{i=JSON.parse(i)}catch(v){console.error("Failed to parse discounts:",v),i=[]}const p={...r,charges:Array.isArray(t)?t:[],discounts:Array.isArray(i)?i:[]};h(p)}},[r]);const d=()=>!!c.carrier&&!!c.equipment&&!!c.currency&&!!c.rate;return{formDispatch:c,setFormDispatch:h,updateDispatch:async()=>{var t,i;if(!d()){k.fire("Validation Error","Please fill in all required fields.","error");return}try{const p=localStorage.getItem("token");if(!p||typeof p!="string"){k.fire({icon:"error",title:"Unauthorized",text:"Please log in again."});return}const v=await S.put(`${se}/dispatch/${c.id}`,c,{headers:{Authorization:`Bearer ${p}`}});k.fire({icon:"success",title:"Updated!",text:"Dispatch updated successfully."}),j(v.data),x()}catch(p){console.error("Error updating dispatch:",((t=p.response)==null?void 0:t.data)||p.message),k.fire({icon:"error",title:"Oops...",text:((i=p.response)==null?void 0:i.status)===401?"Unauthorized. Please log in again.":"Failed to update dispatch."})}},handleAddCharge:()=>{h(t=>t&&{...t,charges:[...t.charges,{type:"",charge:0,percent:""}]})},handleRemoveCharge:t=>{h(i=>i&&{...i,charges:i.charges.filter((p,v)=>v!==t)})},handleChargeChange:(t,i)=>{h(p=>p&&{...p,charges:p.charges.map((v,N)=>N===t?i:v)})},handleAddDiscount:()=>{h(t=>t&&{...t,discounts:[...t.discounts,{type:"",charge:0,percent:""}]})},handleRemoveDiscount:t=>{h(i=>i&&{...i,discounts:i.discounts.filter((p,v)=>v!==t)})},handleDiscountChange:(t,i)=>{h(p=>p&&{...p,discounts:p.discounts.map((v,N)=>N===t?i:v)})}}},ae=({dispatch:r,onClose:x,onUpdate:j})=>{const{formDispatch:c,setFormDispatch:h,updateDispatch:d,handleAddCharge:u,handleRemoveCharge:f,handleChargeChange:a,handleAddDiscount:g,handleRemoveDiscount:y,handleDiscountChange:_}=te(r,x,j);return e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:o=>{o.preventDefault(),d()},className:"form-main",children:[c&&e.jsxs(e.Fragment,{children:[e.jsx(K,{formDispatch:c,setFormDispatch:h}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Charges"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",children:[c.charges.map((o,t)=>e.jsx(L,{dispatch:c,setDispatch:h,charges:c.charges,index:t,onAddCharge:u,handleChargeChange:a,handleRemoveCharge:f},t)),c.charges.length===0&&e.jsx("button",{type:"button",onClick:u,className:"add-button",children:e.jsx(E,{})})]})]}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Discounts"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",children:[c.discounts.map((o,t)=>e.jsx(V,{dispatch:c,setDispatch:h,discounts:c.discounts,index:t,onAddDiscount:g,handleDiscountChange:_,handleRemoveDiscount:y},t)),c.discounts.length===0&&e.jsx("button",{type:"button",onClick:g,className:"add-button",children:e.jsx(E,{})})]})]}),e.jsx(re,{formDispatch:c,setFormDispatch:h})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-submit",children:"Save"}),e.jsx("button",{type:"button",className:"btn-cancel",onClick:x,children:"Cancel"})]})]})})},ne=({formDispatch:r})=>{const[x,j]=C.useState([]),c="http://127.0.0.1:8000/api";return C.useEffect(()=>{(async()=>{try{const d=localStorage.getItem("token"),{data:u}=await S.get(`${c}/carrier`,{headers:{Authorization:`Bearer ${d}`}});console.log("Fetched carriers:",u);const f=u.map(a=>({value:a.value,label:a.label}));j(f)}catch(d){console.error("Error fetching carriers:",d)}})()},[]),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"General"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"customer",children:"Carrier"}),e.jsx("div",{children:r.carrier})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"customerRefNo",children:"Contact"}),e.jsx("div",{children:r.contact})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"remitName",children:"Equipment"}),e.jsx("div",{children:r.equipment})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"accNo",children:"Driver cell"}),e.jsx("div",{children:r.driver_mobile})]})]}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"branch",children:"Truck unit#"}),e.jsx("div",{children:r.truck_unit_no})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"website",children:"Trailer unit#"}),e.jsx("div",{children:r.trailer_unit_no})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"fedIdNo",children:"PAPS/PARS#"}),e.jsx("div",{children:r.paps_pars_no})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"website",children:"Tracking code"}),e.jsx("div",{children:r.tracking_code})]})]}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"fedIdNo",children:"Border"}),e.jsx("div",{children:r.border})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"fedIdNo",children:"Currency"}),e.jsx("div",{children:r.currency})]})]})]})},le=({charge:r})=>e.jsxs("div",{className:"contact-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type"}),e.jsx("div",{children:r.type||""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Charge"}),e.jsx("div",{children:r.charge||""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Percent/Flat Rate"}),e.jsx("div",{children:r.percent||""})]})]}),ie=({discount:r})=>e.jsxs("div",{className:"contact-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type"}),e.jsx("div",{children:r.type||""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Charge"}),e.jsx("div",{children:r.charge||""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Percent/Flat Rate"}),e.jsx("div",{children:r.percent||""})]})]}),ce=r=>r.split("_").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "),oe=({formDispatch:r})=>e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Tax"}),e.jsx("hr",{}),e.jsx("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:["rate","gst","pst","hst","qst","final_price"].map(x=>e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{children:ce(x)}),e.jsx("div",{children:r[x]||""})]},x))})]}),de=({dispatch:r,onClose:x})=>{const[j,c]=C.useState({id:0,carrier:"",contact:"",equipment:"",driver_mobile:"",truck_unit_no:"",trailer_unit_no:"",paps_pars_no:"",tracking_code:"",border:"",currency:"",rate:"",charges:[],discounts:[],gst:"",pst:"",hst:"",qst:"",final_price:"",status:"",created_at:"",updated_at:""});return C.useEffect(()=>{r&&c({...r,charges:Array.isArray(r.charges)?r.charges:typeof r.charges=="string"?JSON.parse(r.charges):[],discounts:Array.isArray(r.discounts)?r.discounts:typeof r.discounts=="string"?JSON.parse(r.discounts):[]})},[r]),e.jsx("div",{className:"form-container",children:e.jsxs("form",{className:"form-main",children:[e.jsx(ne,{formDispatch:j}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Charges"}),e.jsx("hr",{}),e.jsx("div",{className:"form-row",children:j.charges.map((h,d)=>e.jsx(le,{charge:h,index:d},d))})]}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Discounts"}),e.jsx("hr",{}),e.jsx("div",{className:"form-row",children:j.discounts.map((h,d)=>e.jsx(ie,{discount:h,index:d},d))})]}),e.jsx(oe,{formDispatch:j}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"button",className:"btn-cancel",onClick:x,style:{padding:"9px 15px"},children:"Cancel"})})]})})},he=()=>{const{dispatches:r,loading:x,searchQuery:j,setSearchQuery:c,sortBy:h,sortDesc:d,selectedIds:u,paginatedData:f,totalPages:a,currentPage:g,isEditModalOpen:y,isViewModalOpen:_,selectedDispatch:o,openEditModal:t,openViewModal:i,setEditModalOpen:p,setViewModalOpen:v,toggleSelectAll:N,toggleSelect:T,deleteSelected:D,handleSort:A,updateDispatch:P,handlePageChange:w}=G(),F=l=>l.key==="checkbox"||l.key==="actions"?l.label:e.jsxs("div",{className:"sortable-header",onClick:()=>A(l.key),children:[l.label,e.jsx("span",{className:"sort-icon",children:h===l.key?d?"▼":"▲":"▼"})]}),R=()=>{const l=u[0],m=r.find(O=>O.id===l);if(!m)return;const n=new J;let s=10;n.setFontSize(16),n.text(`Magma Confirmation #${m.id}`,10,s),s+=10,n.setFontSize(12),n.text("MAGMA LOGISTICS INC.",10,s),n.text("Carrier: "+(m.carrier||"-"),130,s),s+=7,n.text("8501 Bruceville RD APT 235",10,s),n.text(m.carrier_address||"-",130,s),s+=7,n.text("Elk Grove ,CA,USA ,95758",10,s),n.text("Phone: "+(m.carrier_phone||"-"),130,s),s+=10,n.text(`Date: ${new Date().toLocaleDateString("en-CA")}`,10,s),s+=10,n.text(`Equipment: ${m.equipment||"-"}`,10,s),n.text(`Temperature: ${m.temperature||"-"}`,80,s),n.text(`Load Type: ${m.load_type||"-"}`,130,s),s+=7,n.text(`Commodity: ${m.commodity||"-"}`,10,s),s+=10,n.setFont(void 0,"bold"),n.text("Pickup Shipper(s) Details",10,s),n.setFont(void 0,"normal"),s+=7,n.text(m.pickup_address||"-",10,s),s+=7,n.text(`Pickup Date & Time: ${m.pickup_time||"-"}`,10,s),s+=7,n.text(`Skids: ${m.pickup_skids||"0"}, Weight: ${m.pickup_weight||"-"} LBS`,10,s),s+=7,n.text(`Dims: ${m.pickup_dims||"-"}`,10,s),s+=10,n.setFont(void 0,"bold"),n.text("Delivery Consignee(s) Details",10,s),n.setFont(void 0,"normal"),s+=7,n.text(m.delivery_address||"-",10,s),s+=7,n.text(`Delivery Date & Time: ${m.delivery_time||"-"}`,10,s),s+=7,n.text(`Skids: ${m.delivery_skids||"0"}, Weight: ${m.delivery_weight||"-"} LBS`,10,s),s+=7,n.text(`Dims: ${m.delivery_dims||"-"}`,10,s),s+=10,n.text(`Charges = USD$${m.final_price||"0.00"}`,10,s),s+=7,n.text(`All Inclusive Rate = USD$${m.final_price||"0.00"}`,10,s),s+=10;const q=`Payment term is 30 working days from receipt of freight bill and proof of delivery. 
Any delays in pickup and delivery will apply rescheduling fee $350. 
Check-in call needed for in-transit shipments 7:00 AM pacific time. 
Double brokered shipment leads to non-payment of freight charges and Magma Logistics reserves the right to pay to end carrier whosoever in ACI/ACE manifest. 
Pallet Case count discrepancy must be reported at the time of loading and unloading. 
Clear copy of ACI/ACE manifest, shipper packing slip, Bill of Lading, and signed Carrier Confirmation are required to process invoice.`;n.setFontSize(10),n.text(n.splitTextToSize(q,180),10,s),s+=50,n.text("For Magma Logistics Inc. ____________________",10,s),n.text("For Carrier ____________________",130,s),n.save(`Dispatch_${m.id}_RateConfirmation.pdf`)},I=[{key:"checkbox",label:e.jsx("input",{type:"checkbox",checked:u.length===f.length&&f.length>0,onChange:N}),render:l=>e.jsx("input",{type:"checkbox",checked:u.includes(l.id),onChange:()=>T(l.id)})},{key:"carrier",label:"Carrier",render:l=>l.carrier||e.jsx("span",{children:"-"})},{key:"truck_unit_no",label:"Truck Unit No",render:l=>l.truck_unit_no||e.jsx("span",{children:"-"})},{key:"trailer_unit_no",label:"Trailer Unit No",render:l=>l.trailer_unit_no||e.jsx("span",{children:"-"})},{key:"equipment",label:"Equipment",render:l=>l.equipment||e.jsx("span",{children:"-"})},{key:"border",label:"Border",render:l=>l.border||e.jsx("span",{children:"-"})},{key:"tracking_code",label:"Tracking Code",render:l=>l.tracking_code||e.jsx("span",{children:"-"})},{key:"final_price",label:"Final Price",render:l=>l.final_price||e.jsx("span",{children:"-"})},{key:"actions",label:"",render:l=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(l),className:"btn-view",children:e.jsx(Q,{})}),e.jsx("button",{onClick:()=>t(l),className:"btn-edit",children:e.jsx(U,{})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"header-container",children:[e.jsx("div",{className:"header-container-left",children:e.jsx("h1",{className:"page-heading",children:"Dispatches"})}),e.jsxs("div",{className:"search-container",children:[e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx(H,{className:"search-icon"}),e.jsx("input",{className:"search-bar",value:j,onChange:l=>c(l.target.value)})]}),e.jsx("button",{onClick:R,className:"pdf-button",disabled:u.length!==1,children:e.jsx(Z,{})}),e.jsx("button",{onClick:D,className:"delete-button",children:e.jsx(z,{})})]})]}),x?e.jsx("div",{children:"Loading..."}):r.length===0?e.jsx("div",{children:"No records found"}):e.jsx(B,{data:f,headers:I.map(l=>({...l,label:F(l)})),handleSort:A,sortBy:h,sortDesc:d}),e.jsx(M,{currentPage:g,totalPages:a,onPageChange:w}),e.jsx($,{isOpen:y,onClose:()=>p(!1),title:"Edit Dispatch",children:o&&e.jsx(ae,{dispatch:o,onClose:()=>p(!1),onUpdate:P})}),e.jsx($,{isOpen:_,onClose:()=>v(!1),title:"Dispatch Details",children:o&&e.jsx(de,{dispatch:o,onClose:()=>v(!1)})})]})},fe=()=>e.jsx("div",{children:e.jsx(he,{})});export{fe as default};
