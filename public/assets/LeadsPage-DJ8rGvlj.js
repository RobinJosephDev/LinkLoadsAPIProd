import{r as y,j as e,b as D,S as C}from"./index-CShLHsUt.js";import{z as p,R as F,a as G,b as le,T as re,P as oe,M as U}from"./Pagination-2Q04ZmxJ.js";import $ from"./purify.es-Ci5xwkH_.js";import{u as W}from"./useGoogleAutocomplete-C2ALqIRo.js";import{u as ne,d as Y}from"./useEditLead-CUKV6sor.js";/* empty css             */import{R as Z}from"./CalendarOutlined-DV2-_YpA.js";import{o as ie,R as de}from"./EyeOutlined-B28M-sP9.js";const ce=p.object({name:p.string().max(200,"Name must be at most 200 characters").regex(/^[a-zA-Z\s.,'-]+$/,"Only letters, spaces, apostrophes, periods,commas and hyphens allowed").optional(),phone:p.string().max(30,"Phone cannot exceed 30 characters").regex(/^[0-9-+()\s]*$/,"Invalid phone format").optional(),email:p.string().max(255,"Email must be at most 255 characters").email("Invalid email format").optional()}),J=({contacts:a,index:m,handleContactChange:l,handleRemoveContact:h,onAddContact:x})=>{const g=a[m]??{},[n,d]=y.useState({}),c=y.useCallback((t,r)=>{const i=$.sanitize(r);let o="";const u={...g,[t]:i},v=ce.safeParse(u);if(!v.success){const b=v.error.errors.find(A=>A.path[0]===t);o=b?b.message:""}d(b=>({...b,[t]:o})),l(m,u)},[g,l,m]),s=[{label:"Name",key:"name",type:"text",placeholder:"Enter name"},{label:"Phone",key:"phone",type:"tel",placeholder:"Enter phone"},{label:"Email",key:"email",type:"email",placeholder:"Enter email"}];return e.jsxs("fieldset",{className:"form-section",style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.map(({label:t,key:r,type:i,placeholder:o})=>e.jsxs("div",{className:"form-group",style:{display:"flex",flexDirection:"column"},children:[e.jsx("label",{htmlFor:`${r}-${m}`,children:t}),e.jsx("input",{id:`${r}-${m}`,type:i,name:r,value:g[r]||"",onChange:u=>c(r,u.target.value),placeholder:o}),n[r]&&e.jsx("span",{className:"error",style:{color:"red"},children:n[r]})]},r)),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0px"},children:[e.jsx("button",{type:"button",onClick:x,className:"add-button",children:e.jsx(F,{})}),e.jsx("button",{type:"button",onClick:()=>h(m),className:"delete-button",children:e.jsx(G,{})})]})]})},pe=p.object({lead_no:p.string().max(200,"Legal No must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]+$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional(),lead_date:p.string().min(1,"Lead Date is required").regex(/^\d{2}-\d{2}-\d{4}$/,{message:"Date must be in DD-MM-YYYY format"}).optional(),customer_name:p.string().max(200,"Customer Name must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional(),phone:p.string().max(30,"Phone cannot exceed 30 characters").regex(/^[0-9-+()\s]*$/,"Invalid phone format").optional(),email:p.string().max(255,"Email cannot exceed 255 characters").email("Invalid email format").optional(),website:p.string().max(255,"Website must be at most 255 characters long").url("Invalid website URL").optional(),lead_type:p.enum(["AB","BC","BDS","CA","DPD MAGMA","MB","ON","Super Leads","TBAB","USA"],{errorMap:()=>({message:"Invalid lead type"})}),lead_status:p.enum(["Prospect","Lanes discussed","Prod/Equip noted","E-mail sent","Portal registration","Quotations","Fob/Have broker","VM/No answer","Diff Dept.","No reply","Not Int.","Asset based"],{errorMap:()=>({message:"Invalid lead status"})})}),me=({formLead:a,setFormLead:m})=>{const[l,h]=y.useState({}),x=(n,d)=>{const c=$.sanitize(d);let s="",t=c;if(n==="lead_date"&&/^\d{4}-\d{2}-\d{2}$/.test(c)){const[o,u,v]=c.split("-");t=`${v}-${u}-${o}`}const r={...a,[n]:t},i=pe.safeParse(r);if(!i.success){const o=i.error.errors.find(u=>u.path[0]===n);s=o?o.message:""}h(o=>({...o,[n]:s})),m(o=>({...o,[n]:c}))},g=[{label:"Lead#",key:"lead_no",type:"text",placeholder:"Enter lead#",required:!0},{label:"Lead Date",key:"lead_date",type:"date",placeholder:"Enter lead date",required:!0},{label:"Customer Name",key:"customer_name",placeholder:"Enter customer name"},{label:"Phone",key:"phone",type:"text",placeholder:"Enter phone number"},{label:"Email",key:"email",type:"text",placeholder:"Enter email"},{label:"Website",key:"website",type:"text",placeholder:"Enter website URL"}];return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Lead Details"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-grid",style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:[g.map(({label:n,key:d,type:c,placeholder:s,required:t})=>e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:d,children:[n," ",t&&e.jsx("span",{style:{color:"red"},children:"*"})]})," ",e.jsx("input",{type:c,id:d,placeholder:s,value:a[d]||"",onChange:r=>x(d,r.target.value)}),l[d]&&e.jsx("span",{className:"error",style:{color:"red"},children:l[d]})]},d)),e.jsxs("div",{className:"form-group",style:{flex:"1 1 45%"},children:[e.jsxs("label",{htmlFor:"lead_type",children:["Lead Type ",e.jsx("span",{style:{color:"red"},children:"*"})]})," ",e.jsxs("select",{id:"lead_type",value:a.lead_type||"",onChange:n=>m(d=>({...d,lead_type:n.target.value})),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Lead Type"}),e.jsx("option",{value:"AB",children:"AB"}),e.jsx("option",{value:"BC",children:"BC"}),e.jsx("option",{value:"BDS",children:"BDS"}),e.jsx("option",{value:"CA",children:"CA"}),e.jsx("option",{value:"DPD MAGMA",children:"DPD MAGMA"}),e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"ON",children:"ON"}),e.jsx("option",{value:"Super Leads",children:"Super Leads"}),e.jsx("option",{value:"TBAB",children:"TBAB"}),e.jsx("option",{value:"USA",children:"USA"})]}),l.lead_type&&e.jsx("span",{className:"error",style:{color:"red"},children:l.lead_type})]}),e.jsxs("div",{className:"form-group",style:{flex:"1 1 45%"},children:[e.jsxs("label",{htmlFor:"lead_status",children:["Lead Status ",e.jsx("span",{style:{color:"red"},children:"*"})]})," ",e.jsxs("select",{id:"lead_status",value:a.lead_status||"",onChange:n=>m(d=>({...d,lead_status:n.target.value})),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Lead Status"}),e.jsx("option",{value:"Prospect",children:"Prospect"}),e.jsx("option",{value:"Lanes discussed",children:"Lanes discussed"}),e.jsx("option",{value:"Prod/Equip noted",children:"Prod/Equip noted"}),e.jsx("option",{value:"E-mail sent",children:"E-mail sent"}),e.jsx("option",{value:"Portal registration",children:"Portal registration"}),e.jsx("option",{value:"Quotations",children:"Quotations"}),e.jsx("option",{value:"Fob/Have broker",children:"Fob/Have broker"}),e.jsx("option",{value:"VM/No answer",children:"VM/No answer"}),e.jsx("option",{value:"Diff Dept.",children:"Diff Dept."}),e.jsx("option",{value:"No reply",children:"No reply"}),e.jsx("option",{value:"Not Int.",children:"Not Int."}),e.jsx("option",{value:"Asset based",children:"Asset based"})]}),l.lead_status&&e.jsx("span",{className:"error",style:{color:"red"},children:l.lead_status})]})]})]})},he=p.object({address:p.string().max(255,"Address is too long").regex(/^[a-zA-Z0-9\s,.'-]*$/,"Invalid street format").optional(),city:p.string().max(200,"City name is too long").regex(/^[a-zA-Z\s.'-]*$/,"Invalid city format").optional(),state:p.string().max(200,"Invalid state").regex(/^[a-zA-Z\s.'-]*$/,"Invalid state format").optional(),country:p.string().max(100,"Invalid country").regex(/^[a-zA-Z\s.'-]*$/,"Invalid country format").optional(),postal_code:p.string().max(20,"Postal code cannot exceed 20 characters").regex(/^[a-zA-Z0-9-\s ]*$/,"Invalid postal code").optional(),unit_no:p.string().max(20,"Unit no. cannot exceed 20 characters").regex(/^[a-zA-Z0-9\s,.'-]*$/,"Invalid unit no. format").optional()}),ue=({formLead:a,setFormLead:m})=>{const[l,h]=y.useState({}),g=W(c=>{const s=t=>{var r,i;return((i=(r=c.address_components)==null?void 0:r.find(o=>o.types.includes(t)))==null?void 0:i.long_name)||""};m(t=>({...t,address:`${s("street_number")} ${s("route")}`.trim(),city:s("locality"),state:s("administrative_area_level_1"),country:s("country"),postal_code:s("postal_code")}))}),n=(c,s)=>{const t=$.sanitize(s);let r="";const i={...a,[c]:t},o=he.safeParse(i);if(!o.success){const u=o.error.errors.find(v=>v.path[0]===c);r=u?u.message:""}h(u=>({...u,[c]:r})),m(i)},d=[{label:"Address",key:"address",placeholder:"Enter street address"},{label:"City",key:"city",placeholder:"Enter city name"},{label:"State",key:"state",placeholder:"Enter state"},{label:"Country",key:"country",placeholder:"Enter country"},{label:"Postal Code",key:"postal_code",placeholder:"Enter postal code"},{label:"Unit No.",key:"unit_no",placeholder:"Enter unit number"}];return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Address Details"}),e.jsx("hr",{}),e.jsx("div",{className:"form-grid",style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:d.map(({label:c,key:s,placeholder:t})=>e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:s,children:c}),e.jsx("input",{type:"text",id:s,placeholder:t,value:a[s]||"",onChange:r=>n(s,r.target.value),ref:s==="address"?g:void 0}),l[s]&&e.jsx("span",{className:"error",style:{color:"red"},children:l[s]})]},s))})]})},xe=p.object({follow_up_date:p.string().regex(/^\d{2}-\d{2}-\d{4}$/,{message:"Date must be in DD-MM-YYYY format"}).optional(),contact_person:p.string().max(200,"Contact name must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional(),equipment_type:p.enum(["Van","Reefer","Flatbed","Triaxle","Maxi","Btrain","Roll tite"],{errorMap:()=>({message:"Invalid equipment type"})}).optional(),assigned_to:p.string().min(1,"Assigned To is required").max(200,"Assigned To must be at most 200 characters long").regex(/^[a-zA-Z\s'-]+$/,"Only letters, spaces, apostrophes, and hyphens allowed"),notes:p.string().max(500,"Notes must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional()}),ge=({formLead:a,setFormLead:m})=>{const[l,h]=y.useState({}),x="http://127.0.0.1:8000/api",[g,n]=y.useState([]);y.useEffect(()=>{(async()=>{var t,r;try{const i=localStorage.getItem("token");if(!i)throw new Error("No token found. Please log in.");const u=(await D.get(`${x}/user`,{headers:{Authorization:`Bearer ${i}`}})).data.filter(v=>v.role==="employee");n(u)}catch(i){console.error("Error fetching users:",i),C.fire({icon:"error",title:((t=i.response)==null?void 0:t.status)===401?"Unauthorized":"Error",text:((r=i.response)==null?void 0:r.status)===401?"You are not authorized to view this data. Please log in again.":"An error occurred while fetching users. Please try again."})}})()},[x]);const d=(s,t)=>{const r=$.sanitize(t);let i="",o=r;if(s==="follow_up_date"&&/^\d{4}-\d{2}-\d{2}$/.test(r)){const[b,A,E]=r.split("-");o=`${E}-${A}-${b}`}const u={...a,[s]:o},v=xe.safeParse(u);if(!v.success){const b=v.error.errors.find(A=>A.path[0]===s);i=b?b.message:""}h(b=>({...b,[s]:i})),m(b=>({...b,[s]:r}))},c=[{label:"Next Follow-Up Date",key:"follow_up_date",type:"date",placeholder:"Enter follow-up date"},{label:"Contact Person",key:"contact_person",type:"text",placeholder:"Enter contact person"}];return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Additional Information"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[c.map(({label:s,key:t,type:r,placeholder:i})=>e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:t,children:s}),e.jsx("input",{type:r,id:t,placeholder:i,value:a[t]||"",onChange:o=>d(t,o.target.value)}),l[t]&&e.jsx("span",{className:"error",style:{color:"red"},children:l[t]})]},t)),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"equipmentType",children:"Equipment Type"}),e.jsxs("select",{id:"equipmentType",value:a.equipment_type||"",onChange:s=>m(t=>({...t,equipment_type:s.target.value})),children:[e.jsx("option",{value:"",children:"Select Equipment Type"}),e.jsx("option",{value:"Van",children:"Van"}),e.jsx("option",{value:"Reefer",children:"Reefer"}),e.jsx("option",{value:"Flatbed",children:"Flatbed"}),e.jsx("option",{value:"Triaxle",children:"Triaxle"}),e.jsx("option",{value:"Maxi",children:"Maxi"}),e.jsx("option",{value:"Btrain",children:"Btrain"}),e.jsx("option",{value:"Roll tite",children:"Roll tite"})]}),l.equipment_type&&e.jsx("span",{className:"error",style:{color:"red"},children:l.equipment_type})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"assignedTo",children:"Assigned To"}),e.jsxs("select",{id:"assignedTo",value:a.assigned_to,onChange:s=>d("assigned_to",s.target.value),children:[e.jsx("option",{value:"",children:"Select Employee"}),g.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]}),l.assigned_to&&e.jsx("span",{className:"error",style:{color:"red"},children:l.assigned_to})]})]}),e.jsx("div",{className:"form-row",style:{display:"flex"},children:e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",placeholder:"Enter notes",value:a.notes||"",onChange:s=>d("notes",s.target.value),style:{width:"100%",minHeight:"100px"}}),l.notes&&e.jsx("span",{className:"error",style:{color:"red"},children:l.notes})]})})]})},je=({lead:a,onClose:m,onUpdate:l})=>{const{formLead:h,setFormLead:x,updateLead:g,handleAddContact:n,handleRemoveContact:d,handleContactChange:c}=ne(a,m,l);return e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),g()},className:"form-main",children:[e.jsx(me,{formLead:h,setFormLead:x}),e.jsx(ue,{formLead:h,setFormLead:x}),e.jsx(ge,{formLead:h,setFormLead:x}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Contacts"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",children:[h.contacts.map((s,t)=>e.jsx(J,{contacts:h.contacts,index:t,onAddContact:n,handleContactChange:c,handleRemoveContact:d},t)),h.contacts.length===0&&e.jsx("button",{type:"button",onClick:n,className:"add-button",children:e.jsx(F,{})})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-submit",children:"Save"}),e.jsx("button",{type:"button",className:"btn-cancel",onClick:m,children:"Cancel"})]})]})})},fe=p.object({lead_no:p.string().min(1,"Lead No is required").max(100,"Lead No must be at most 100 characters long").regex(/^[a-zA-Z0-9\s.,'-]+$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed"),lead_date:p.string().min(1,"Lead Date is required").regex(/^\d{2}-\d{2}-\d{4}$/,{message:"Date must be in DD-MM-YYYY format"}).optional(),customer_name:p.string().max(200,"Customer Name must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional(),phone:p.string().max(30,"Phone cannot exceed 30 characters").regex(/^[0-9-+()\s]*$/,"Invalid phone format").optional(),email:p.string().max(255,"Email cannot exceed 255 characters").email("Invalid email format").optional(),website:p.string().max(255,"Website must be at most 255 characters long").url("Invalid website URL").optional(),lead_type:p.enum(["AB","BC","BDS","CA","DPD MAGMA","MB","ON","Super Leads","TBAB","USA"],{errorMap:()=>({message:"Invalid lead type"})}),lead_status:p.enum(["Prospect","Lanes discussed","Prod/Equip noted","E-mail sent","Portal registration","Quotations","Fob/Have broker","VM/No answer","Diff Dept.","No reply","Not Int.","Asset based"],{errorMap:()=>({message:"Invalid lead status"})})}),ye=({lead:a,setLead:m})=>{const[l,h]=y.useState({}),x=(n,d)=>{const c=$.sanitize(d);let s="",t=c;if(n==="lead_date"&&/^\d{4}-\d{2}-\d{2}$/.test(c)){const[o,u,v]=c.split("-");t=`${v}-${u}-${o}`}const r={...a,[n]:t},i=fe.safeParse(r);if(!i.success){const o=i.error.errors.find(u=>u.path[0]===n);s=o?o.message:""}h(o=>({...o,[n]:s})),m(o=>({...o,[n]:c}))},g=[{label:"Lead#",key:"lead_no",type:"text",placeholder:"Enter lead#",required:!0},{label:"Lead Date",key:"lead_date",type:"date",placeholder:"Enter lead date",required:!0},{label:"Customer Name",key:"customer_name",placeholder:"Enter customer name"},{label:"Phone",key:"phone",type:"text",placeholder:"Enter phone number"},{label:"Email",key:"email",type:"text",placeholder:"Enter email"},{label:"Website",key:"website",type:"text",placeholder:"Enter website URL"}];return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Lead Details"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-grid",style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:[g.map(({label:n,key:d,type:c,placeholder:s,required:t})=>e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:d,children:[n," ",t&&e.jsx("span",{style:{color:"red"},children:"*"})]})," ",e.jsx("input",{type:c,id:d,placeholder:s,value:a[d]||"",onChange:r=>x(d,r.target.value)}),l[d]&&e.jsx("span",{className:"error",style:{color:"red"},children:l[d]})]},d)),e.jsxs("div",{className:"form-group",style:{flex:"1 1 45%"},children:[e.jsxs("label",{htmlFor:"lead_type",children:["Lead Type ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("select",{id:"lead_type",value:a.lead_type||"",onChange:n=>m(d=>({...d,lead_type:n.target.value})),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Lead Type"}),e.jsx("option",{value:"AB",children:"AB"}),e.jsx("option",{value:"BC",children:"BC"}),e.jsx("option",{value:"BDS",children:"BDS"}),e.jsx("option",{value:"CA",children:"CA"}),e.jsx("option",{value:"DPD MAGMA",children:"DPD MAGMA"}),e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"ON",children:"ON"}),e.jsx("option",{value:"Super Leads",children:"Super Leads"}),e.jsx("option",{value:"TBAB",children:"TBAB"}),e.jsx("option",{value:"USA",children:"USA"})]}),l.lead_type&&e.jsx("span",{className:"error",style:{color:"red"},children:l.lead_type})]}),e.jsxs("div",{className:"form-group",style:{flex:"1 1 45%"},children:[e.jsxs("label",{htmlFor:"lead_status",children:["Lead Status ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("select",{id:"lead_status",value:a.lead_status||"",onChange:n=>m(d=>({...d,lead_status:n.target.value})),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Lead Status"}),e.jsx("option",{value:"Prospect",children:"Prospect"}),e.jsx("option",{value:"Lanes discussed",children:"Lanes discussed"}),e.jsx("option",{value:"Prod/Equip noted",children:"Prod/Equip noted"}),e.jsx("option",{value:"E-mail sent",children:"E-mail sent"}),e.jsx("option",{value:"Portal registration",children:"Portal registration"}),e.jsx("option",{value:"Quotations",children:"Quotations"}),e.jsx("option",{value:"Fob/Have broker",children:"Fob/Have broker"}),e.jsx("option",{value:"VM/No answer",children:"VM/No answer"}),e.jsx("option",{value:"Diff Dept.",children:"Diff Dept."}),e.jsx("option",{value:"No reply",children:"No reply"}),e.jsx("option",{value:"Not Int.",children:"Not Int."}),e.jsx("option",{value:"Asset based",children:"Asset based"})]}),l.lead_status&&e.jsx("span",{className:"error",style:{color:"red"},children:l.lead_status})]})]})]})},ve=p.object({address:p.string().max(255,"Address is too long").regex(/^[a-zA-Z0-9\s,.'-]*$/,"Invalid street format").optional(),city:p.string().max(200,"City name is too long").regex(/^[a-zA-Z\s.'-]*$/,"Invalid city format").optional(),state:p.string().max(200,"Invalid state").regex(/^[a-zA-Z\s.'-]*$/,"Invalid state format").optional(),country:p.string().max(100,"Invalid country").regex(/^[a-zA-Z\s.'-]*$/,"Invalid country format").optional(),postal_code:p.string().max(20,"Postal code cannot exceed 20 characters").regex(/^[a-zA-Z0-9-\s ]*$/,"Invalid postal code").optional(),unit_no:p.string().max(20,"Unit no. cannot exceed 20 characters").regex(/^[a-zA-Z0-9\s,.'-]*$/,"Invalid unit no. format").optional()}),be=({lead:a,setLead:m})=>{const[l,h]=y.useState({}),g=W(c=>{const s=t=>{var r,i;return((i=(r=c.address_components)==null?void 0:r.find(o=>o.types.includes(t)))==null?void 0:i.long_name)||""};m(t=>({...t,address:`${s("street_number")} ${s("route")}`.trim(),city:s("locality"),state:s("administrative_area_level_1"),country:s("country"),postal_code:s("postal_code")}))}),n=(c,s)=>{const t=$.sanitize(s);let r="";const i={...a,[c]:t},o=ve.safeParse(i);if(!o.success){const u=o.error.errors.find(v=>v.path[0]===c);r=u?u.message:""}h(u=>({...u,[c]:r})),m(i)},d=[{label:"Address",key:"address",placeholder:"Enter street address"},{label:"City",key:"city",placeholder:"Enter city name"},{label:"State",key:"state",placeholder:"Enter state"},{label:"Country",key:"country",placeholder:"Enter country"},{label:"Postal Code",key:"postal_cide",placeholder:"Enter postal code"},{label:"Unit No.",key:"unit_no",placeholder:"Enter unit number"}];return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Address Details"}),e.jsx("hr",{}),e.jsx("div",{className:"form-grid",style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:d.map(({label:c,key:s,placeholder:t})=>e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:s,children:c}),e.jsx("input",{type:"text",id:s,placeholder:t,value:a[s]||"",onChange:r=>n(s,r.target.value),ref:s==="address"?g:void 0}),l[s]&&e.jsx("span",{className:"error",style:{color:"red"},children:l[s]})]},s))})]})},Ne=p.object({follow_up_date:p.string().regex(/^\d{2}-\d{2}-\d{4}$/,{message:"Date must be in DD-MM-YYYY format"}).optional(),contact_person:p.string().max(200,"Contact name must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional(),equipment_type:p.enum(["Van","Reefer","Flatbed","Triaxle","Maxi","Btrain","Roll tite"],{errorMap:()=>({message:"Invalid equipment type"})}).optional(),assigned_to:p.string().max(200,"Assigned To must be at most 200 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional(),notes:p.string().max(500,"Notes must be at most 500 characters long").regex(/^[a-zA-Z0-9\s.,'-]*$/,"Only letters, numbers,spaces, apostrophes, periods, commas, and hyphens allowed").optional()}),_e=({lead:a,setLead:m})=>{const[l,h]=y.useState({}),x="http://127.0.0.1:8000/api",[g,n]=y.useState([]);y.useEffect(()=>{(async()=>{var t,r;try{const i=localStorage.getItem("token");if(!i)throw new Error("No token found. Please log in.");const u=(await D.get(`${x}/user`,{headers:{Authorization:`Bearer ${i}`}})).data.filter(v=>v.role==="employee");n(u)}catch(i){console.error("Error fetching users:",i),C.fire({icon:"error",title:((t=i.response)==null?void 0:t.status)===401?"Unauthorized":"Error",text:((r=i.response)==null?void 0:r.status)===401?"You are not authorized to view this data. Please log in again.":"An error occurred while fetching users. Please try again."})}})()},[x]);const d=(s,t)=>{const r=$.sanitize(t);let i="",o=r;if(s==="follow_up_date"&&/^\d{4}-\d{2}-\d{2}$/.test(r)){const[b,A,E]=r.split("-");o=`${E}-${A}-${b}`}const u={...a,[s]:o},v=Ne.safeParse(u);if(!v.success){const b=v.error.errors.find(A=>A.path[0]===s);i=b?b.message:""}h(b=>({...b,[s]:i})),m(b=>({...b,[s]:r}))},c=[{label:"Next Follow-Up Date",key:"follow_up_date",type:"date",placeholder:"Enter follow-up date"},{label:"Contact Person",key:"contact_person",type:"text",placeholder:"Enter contact person"}];return e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Additional Information"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[c.map(({label:s,key:t,type:r,placeholder:i})=>e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:t,children:s}),e.jsx("input",{type:r,id:t,placeholder:i,value:a[t]||"",onChange:o=>d(t,o.target.value)}),l[t]&&e.jsx("span",{className:"error",style:{color:"red"},children:l[t]})]},t)),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"equipmentType",children:"Equipment Type"}),e.jsxs("select",{id:"equipmentType",value:a.equipment_type||"",onChange:s=>m(t=>({...t,equipment_type:s.target.value})),children:[e.jsx("option",{value:"",children:"Select Equipment Type"}),e.jsx("option",{value:"Van",children:"Van"}),e.jsx("option",{value:"Reefer",children:"Reefer"}),e.jsx("option",{value:"Flatbed",children:"Flatbed"}),e.jsx("option",{value:"Triaxle",children:"Triaxle"}),e.jsx("option",{value:"Maxi",children:"Maxi"}),e.jsx("option",{value:"Btrain",children:"Btrain"}),e.jsx("option",{value:"Roll tite",children:"Roll tite"})]}),l.equipment_type&&e.jsx("span",{className:"error",style:{color:"red"},children:l.equipment_type})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"assignedTo",children:"Assigned To"}),e.jsxs("select",{id:"assignedTo",value:a.assigned_to,onChange:s=>d("assigned_to",s.target.value),children:[e.jsx("option",{value:"",children:"Select Employee"}),g.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]}),l.assigned_to&&e.jsx("span",{className:"error",style:{color:"red"},children:l.assigned_to})]})]}),e.jsx("div",{className:"form-row",style:{display:"flex"},children:e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",placeholder:"Enter notes",value:a.notes||"",onChange:s=>d("notes",s.target.value),style:{width:"100%",minHeight:"100px"}}),l.notes&&e.jsx("span",{className:"error",style:{color:"red"},children:l.notes})]})})]})},Q="http://127.0.0.1:8000/api",Ae=(a,m)=>{const[l,h]=y.useState({id:0,lead_no:"",lead_date:"",customer_name:"",phone:"",email:"",website:"",address:"",unit_no:"",city:"",state:"",country:"",postal_code:"",lead_type:"",contact_person:"",notes:"",lead_status:"",follow_up_date:"",equipment_type:"",assigned_to:"",contacts:[],created_at:"",updated_at:""}),x=()=>!!l.lead_no&&!!l.lead_date&&!!l.lead_type&&!!l.lead_status,g=async t=>{if(t.preventDefault(),!x()){C.fire("Validation Error","Please fill in all required fields.","error");return}try{const r=localStorage.getItem("token");if(!r){C.fire("Error","No token found","error");return}const i={Authorization:`Bearer ${r}`},o=l.id?await D.put(`${Q}/lead/${l.id}`,l,{headers:i}):await D.post(`${Q}/lead`,l,{headers:i});C.fire("Success","Lead data has been saved successfully.","success"),n(),m()}catch(r){console.error("Error saving/updating lead:",r),C.fire("Error","An error occurred while saving/updating the lead.","error")}},n=()=>{h({id:0,lead_no:"",lead_date:"",customer_name:"",phone:"",email:"",website:"",address:"",unit_no:"",city:"",state:"",country:"",postal_code:"",lead_type:"",contact_person:"",notes:"",lead_status:"",follow_up_date:"",equipment_type:"",assigned_to:"",contacts:[],created_at:"",updated_at:""})};return{lead:l,setLead:h,handleAddContact:()=>{h(t=>({...t,contacts:[...t.contacts,{name:"",phone:"",email:"",fax:"",designation:""}]}))},handleRemoveContact:t=>{h(r=>({...r,contacts:r.contacts.filter((i,o)=>o!==t)}))},handleContactChange:(t,r)=>{const i=l.contacts.map((o,u)=>u===t?r:o);h(o=>({...o,contacts:i}))},handleSubmit:g,clearLeadForm:n}},Ce=({onClose:a,onSuccess:m})=>{const{lead:l,setLead:h,handleAddContact:x,handleRemoveContact:g,handleContactChange:n,handleSubmit:d}=Ae(a,m);return e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:d,className:"form-main",children:[e.jsx(ye,{lead:l,setLead:h}),e.jsx(be,{lead:l,setLead:h}),e.jsx(_e,{lead:l,setLead:h}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Contacts"}),e.jsx("hr",{}),e.jsx("div",{className:"form-row",children:l.contacts.map((c,s)=>e.jsx(J,{contacts:l.contacts,index:s,onAddContact:x,handleContactChange:n,handleRemoveContact:g},s))}),l.contacts.length===0&&e.jsx("button",{type:"button",onClick:x,className:"add-button",children:e.jsx(F,{})})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-submit",children:"Create Lead"}),e.jsx("button",{type:"button",className:"btn-cancel",onClick:a,children:"Cancel"})]})]})})},Ee=({formLead:a})=>e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Lead Details"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"leadNo",children:"Lead No"}),e.jsx("div",{children:a.lead_no||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"leadDate",children:"Lead Date"}),e.jsx("div",{children:a.lead_date||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"customerName",children:"Customer Name"}),e.jsx("div",{children:a.customer_name||"N/A"})]})]}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("div",{children:a.phone||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("div",{children:a.email||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"website",children:"Website"}),e.jsx("div",{children:a.website||"N/A"})]})]}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"leadType",children:"Lead Type"}),e.jsx("div",{children:a.lead_type||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"leadStatus",children:"Lead Status"}),e.jsx("div",{children:a.lead_status||"N/A"})]})]})]}),we=({formLead:a})=>e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Address Details"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("div",{children:a.address||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"unitNo",children:"Unit No"}),e.jsx("div",{children:a.unit_no||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"city",children:"City"}),e.jsx("div",{children:a.city||"N/A"})]})]}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"state",children:"State"}),e.jsx("div",{children:a.state||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"country",children:"Country"}),e.jsx("div",{children:a.country||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"postalCode",children:"Postal Code"}),e.jsx("div",{children:a.postal_code||"N/A"})]})]})]}),Se=({formLead:a})=>{const m="http://127.0.0.1:8000/api",[l,h]=y.useState([]);return y.useEffect(()=>{(async()=>{var g;try{const n=localStorage.getItem("token");if(!n)throw new Error("No token found. Please log in.");const c=(await D.get(`${m}/user`,{headers:{Authorization:`Bearer ${n}`}})).data.filter(s=>s.role==="employee");h(c)}catch(n){console.error("Error fetching users:",n),((g=n.response)==null?void 0:g.status)===401?C.fire({icon:"error",title:"Unauthorized",text:"You are not authorized to view this data. Please log in again."}):C.fire({icon:"error",title:"Error",text:"An error occurred while fetching users. Please try again."})}})()},[]),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Additional Information"}),e.jsx("hr",{}),e.jsxs("div",{className:"form-row",style:{display:"flex",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"follow_up_date",children:"Next Follow-Up Date"}),e.jsx("div",{children:a.follow_up_date||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"equipmentType",children:"Equipment Type"}),e.jsx("div",{children:a.equipment_type||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"assignedTo",children:"Assigned To"}),e.jsx("div",{children:a.assigned_to||"N/A"})]}),e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"contactPerson",children:"Contact Person"}),e.jsx("div",{children:a.contact_person||"N/A"})]})]}),e.jsx("div",{className:"form-row",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("div",{children:a.notes||"N/A"})]})})]})},Pe=({contact:a,index:m,onRemove:l})=>e.jsxs("div",{className:"contact-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name"}),e.jsx("div",{children:a.name||"N/A"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("div",{children:a.phone||"N/A"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("div",{children:a.email||"N/A"})]})]}),De=({lead:a,onClose:m})=>{const[l,h]=y.useState({id:0,lead_no:"",lead_date:"",customer_name:"",phone:"",email:"",website:"",address:"",unit_no:"",city:"",state:"",country:"",postal_code:"",equipment_type:"",lead_type:"",lead_status:"",contact_person:"",notes:"",follow_up_date:"",assigned_to:"",contacts:[]});return y.useEffect(()=>{if(a){let x=[];if(Array.isArray(a.contacts))x=a.contacts;else if(typeof a.contacts=="string")try{x=JSON.parse(a.contacts)||[]}catch{x=[]}h({...a,contacts:x.length>0?x:[]})}},[a]),e.jsx("div",{className:"form-container",children:e.jsxs("form",{className:"form-main",children:[e.jsx(Ee,{formLead:l}),e.jsx(we,{formLead:l}),e.jsx(Se,{formLead:l}),e.jsxs("fieldset",{className:"form-section",children:[e.jsx("legend",{children:"Contacts"}),e.jsx("hr",{}),e.jsx("div",{className:"form-row",children:l.contacts&&l.contacts.map((x,g)=>e.jsx(Pe,{contact:x,index:g},g))})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"button",className:"btn-cancel",onClick:m,style:{padding:"9px 15px"},children:"Cancel"})})]})})},H="http://127.0.0.1:8000/api",$e=()=>{const[a,m]=y.useState([]),[l,h]=y.useState(!0),[x,g]=y.useState(""),[n,d]=y.useState("created_at"),[c,s]=y.useState(!0),[t,r]=y.useState(1),[i,o]=y.useState(null),[u,v]=y.useState(!1),[b,A]=y.useState(!1),[E,M]=y.useState(!1),[S,P]=y.useState([]),[L,B]=y.useState(10),I=async()=>{try{const f=localStorage.getItem("token");if(!f)throw new Error("No token found");h(!0);const{data:N}=await D.get(`${H}/lead`,{headers:{Authorization:`Bearer ${f}`}});m(N)}catch(f){console.error("Error loading leads:",f),T(f)}finally{h(!1)}};y.useEffect(()=>{I()},[]);const T=f=>{f.response&&f.response.status===401&&C.fire({icon:"error",title:"Unauthorized",text:"You need to log in to access this resource."})},z=f=>{r(f)},k=f=>{o(f),v(!0)},q=()=>{v(!1),o(null)},j=f=>{o(f),M(!0)},V=()=>{M(!1),o(null)},K=f=>{m(N=>N.map(_=>_.id===f.id?{..._,...f}:_))},X=()=>{S.length===R.length?P([]):P(R.map(f=>f.id))},ee=f=>{P(N=>N.includes(f)?N.filter(_=>_!==f):[...N,f])},se=async()=>{if(S.length===0){C.fire({icon:"warning",title:"No record selected",text:"Please select a record to delete."});return}if((await C.fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete selected!",cancelButtonText:"No, cancel!"})).isConfirmed)try{const N=localStorage.getItem("token");if(!N)throw new Error("No token found");await Promise.all(S.map(_=>D.delete(`${H}/lead/${_}`,{headers:{Authorization:`Bearer ${N}`}}))),m(_=>_.filter(w=>!S.includes(w.id))),P([]),C.fire("Deleted!","Selected leads have been deleted.","success")}catch(N){console.error("Error deleting leads:",N),C.fire({icon:"error",title:"Error!",text:"Failed to delete selected leads."})}},te=f=>{n===f?s(!c):(d(f),s(!1))},O=a.filter(f=>Object.values(f).some(N=>N!=null&&N.toString().toLowerCase().includes(x.toLowerCase()))),R=O.sort((f,N)=>{let _=f[n]??"",w=N[n]??"";return typeof _=="string"&&typeof w=="string"?c?w.localeCompare(_):_.localeCompare(w):typeof _=="number"&&typeof w=="number"?c?w-_:_-w:0}).slice((t-1)*L,t*L),ae=Math.ceil(O.length/L);return{fetchLeads:I,leads:a,loading:l,searchQuery:x,setSearchQuery:g,sortBy:n,sortDesc:c,selectedIds:S,setSelectedIds:P,paginatedData:R,totalPages:ae,currentPage:t,setCurrentPage:r,isEditModalOpen:u,isAddModalOpen:b,isViewModalOpen:E,selectedLead:i,openEditModal:k,closeEditModal:q,openViewModal:j,closeViewModal:V,setEditModalOpen:v,setAddModalOpen:A,setViewModalOpen:M,toggleSelectAll:X,toggleSelect:ee,deleteSelected:se,handleSort:te,updateLead:K,handlePageChange:z}},Me=()=>{const{fetchLeads:a,leads:m,loading:l,searchQuery:h,setSearchQuery:x,sortBy:g,sortDesc:n,selectedIds:d,paginatedData:c,totalPages:s,currentPage:t,isEditModalOpen:r,isAddModalOpen:i,isViewModalOpen:o,selectedLead:u,openEditModal:v,openViewModal:b,setEditModalOpen:A,setAddModalOpen:E,setViewModalOpen:M,toggleSelectAll:S,toggleSelect:P,deleteSelected:L,handleSort:B,updateLead:I,handlePageChange:T}=$e(),z=j=>j.key==="checkbox"||j.key==="actions"?j.label:e.jsxs("div",{className:"sortable-header",onClick:()=>B(j.key),children:[j.label,e.jsx("span",{className:"sort-icon",children:g===j.key?n?"▼":"▲":"▼"})]}),k=j=>({Prospect:"badge-prospect","Lanes discussed":"badge-lanes","Prod/Equip noted":"badge-product","E-mail sent":"badge-email","Portal registration":"badge-carrier",Quotations:"badge-quotation","Fob/Have broker":"badge-broker","VM/No answer":"badge-voicemail","Diff Dept.":"badge-different","No reply":"badge-callback","Not Int.":"badge-not-interested","Asset based":"badge-asset"})[j]||"badge-default",q=[{key:"checkbox",label:e.jsx("input",{type:"checkbox",onChange:S,checked:d.length===c.length&&c.length>0}),render:j=>e.jsx("input",{type:"checkbox",checked:d.includes(j.id),onChange:()=>P(j.id)})},{key:"lead_no",label:"Lead#"},{key:"customer_name",label:"Name"},{key:"lead_date",label:"Date",render:j=>e.jsxs("div",{className:"date-picker-container-normal",children:[e.jsx(Z,{style:{marginRight:5}}),j.lead_date?Y(j.lead_date).format("DD MMM, YYYY"):"-"]})},{key:"city",label:"City"},{key:"lead_type",label:"Type"},{key:"assigned_to",label:"Assigned To",render:j=>e.jsx("span",{children:j.assigned_to||"Unassigned"})},{key:"lead_status",label:"Status",render:j=>e.jsx("span",{className:`badge ${k(j.lead_status)}`,children:j.lead_status})},{key:"follow_up_date",label:"Follow Up",render:j=>e.jsxs("div",{className:"date-picker-container",children:[e.jsx(Z,{style:{marginRight:5}}),j.follow_up_date?Y(j.follow_up_date).format("DD MMM, YYYY"):"-"]})},{key:"actions",label:"",render:j=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>b(j),className:"btn-view",children:e.jsx(ie,{})}),e.jsx("button",{onClick:()=>v(j),className:"btn-edit",children:e.jsx(le,{})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"header-container",children:[e.jsx("div",{className:"header-container-left",children:e.jsx("h1",{className:"page-heading",children:"Leads"})}),e.jsxs("div",{className:"search-container",children:[e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx(de,{className:"search-icon"}),e.jsx("input",{className:"search-bar",value:h,onChange:j=>x(j.target.value)})]}),e.jsx("button",{onClick:()=>E(!0),className:"add-button",children:e.jsx(F,{})}),e.jsx("button",{onClick:L,className:"delete-button",children:e.jsx(G,{})})]})]}),l?e.jsx("div",{children:"Loading..."}):m.length===0?e.jsx("div",{children:"No records found"}):e.jsx(re,{data:c,headers:q.map(j=>({...j,label:z(j)})),handleSort:B,sortBy:g,sortDesc:n}),e.jsx(oe,{currentPage:t,totalPages:s,onPageChange:T}),e.jsx(U,{isOpen:r,onClose:()=>A(!1),title:"Edit Lead",children:u&&e.jsx(je,{lead:u,onClose:()=>A(!1),onUpdate:I})}),e.jsx(U,{isOpen:i,onClose:()=>E(!1),title:"Add Lead",children:e.jsx(Ce,{onClose:()=>E(!1),onSuccess:a})}),e.jsx(U,{isOpen:o,onClose:()=>M(!1),title:"Lead Details",children:u&&e.jsx(De,{lead:u,onClose:()=>M(!1)})})]})},Ue=()=>e.jsx("div",{children:e.jsx(Me,{})});export{Ue as default};
